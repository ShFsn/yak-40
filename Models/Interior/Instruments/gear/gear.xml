<?xml version="1.0"?>
<!--
    #############################################################################
    #    (C) 2007 by Yurik V. Nikiforoff - port for FGFS,  FDM, 	  	#
    #	2d & 3d instruments, animations, systems and over.		   	#
    #    	yurik@megasignal.com					   	#
    #############################################################################	  
    -->

<!-- Turbine turn indicator ITE-2t (two needles)
3D instrument for Tu-154 -->
<PropertyList>
 <path>gear.ac</path>
<!-- Internal instruments lighting -->

 <animation>
   <object-name>g_l</object-name>
   <type>select</type>
    <condition>
      <or>
	<equals>
	  <property>yak-40/instrumentation/gear/check</property>
	  <value>1</value>
	</equals>
	<equals>
	  <property>gear/gear[1]/position-norm</property>
	  <value>1</value>
	</equals>
      </or>
    </condition>
  </animation>
   
  <animation> 
  <type>material</type> 
  <object-name>g_l</object-name>
  <emission>
    <red>1.0</red>
    <green>1.0</green>
    <blue>1.0</blue>
    <factor-prop>yak-40/instrumentation/gear/lamp-light</factor-prop>
    <factor-prop>gear/gear[1]/position-norm</factor-prop> 
    <!--<factor-prop>controls/lighting/gear-norm</factor-prop>-->
  </emission>
  </animation>
  
  <animation>
   <object-name>g_n</object-name>
   <type>select</type>
    <condition>
      <or>
	<equals>
	  <property>yak-40/instrumentation/gear/check</property>
	  <value>1</value>
	</equals>
      <equals>
	<property>gear/gear[0]/position-norm</property>
	<value>1</value>
      </equals>
    </or>
    </condition>
  </animation>
    
  <animation> 
  <type>material</type> 
  <object-name>g_n</object-name>
  <emission>
    <red>1.0</red>
    <green>1.0</green>
    <blue>1.0</blue>
    <factor-prop>yak-40/instrumentation/gear/lamp-light</factor-prop>
    <factor-prop>gear/gear[0]/position-norm</factor-prop> 
  </emission>
  </animation>
  
  <animation>
   <object-name>g_r</object-name>
   <type>select</type>
    <condition>
      <or>
	<equals>
	  <property>yak-40/instrumentation/gear/check</property>
	  <value>1</value>
	</equals>
      <equals>
	<property>gear/gear[2]/position-norm</property>
	<value>1</value>
      </equals>
    </or>
    </condition>
  </animation>
    
  <animation> 
  <type>material</type> 
  <object-name>g_r</object-name>
  <emission>
    <red>1.0</red>
    <green>1.0</green>
    <blue>1.0</blue>
    <factor-prop>yak-40/instrumentation/gear/lamp-light</factor-prop>
    <factor-prop>gear/gear[2]/position-norm</factor-prop>
    <!--<factor-prop>controls/lighting/gear-norm</factor-prop>-->
  </emission>
</animation>
  
  <animation>
   <object-name>r_l</object-name>
   <type>select</type>
    <condition>
      <or>
	<equals>
	  <property>yak-40/instrumentation/gear/check</property>
	  <value>1</value>
	</equals>
      <equals>
	<property>gear/gear[1]/position-norm</property>
	<value>0</value>
      </equals>
    </or>
    </condition>
  </animation>
    
  <animation> 
  <type>material</type> 
  <object-name>r_l</object-name> 
  <emission>
    <red>1.0</red>
    <green>1.0</green>
    <blue>1.0</blue>
    <factor-prop>yak-40/instrumentation/gear/lamp-light</factor-prop>
    <factor-prop>gear/gear[1]/position-norm</factor-prop>
    <!--<factor-prop>controls/lighting/gear-norm</factor-prop>-->
  </emission>
  </animation>
  
  <animation>
   <object-name>r_n</object-name>
   <type>select</type>
    <condition>
      <or>
	<equals>
	  <property>yak-40/instrumentation/gear/check</property>
	  <value>1</value>
	</equals>
      <equals>
	<property>gear/gear[0]/position-norm</property>
	<value>0</value>
      </equals>
    </or>
    </condition>
  </animation>
    
  <animation> 
  <type>material</type> 
  <object-name>r_n</object-name>
  <emission>
    <red>1.0</red>
    <green>1.0</green>
    <blue>1.0</blue>
    <factor-prop>yak-40/instrumentation/gear/lamp-light</factor-prop>
    <factor-prop>gear/gear[0]/position-norm</factor-prop>
    <!--<factor-prop>controls/lighting/gear-norm</factor-prop>-->
  </emission>
  </animation>
  
  <animation>
   <object-name>r_r</object-name>
   <type>select</type>
    <condition>
      <or>
	<equals>
	  <property>yak-40/instrumentation/gear/check</property>
	  <value>1</value>
	</equals>
      <equals>
	<property>gear/gear[2]/position-norm</property>
	<value>0</value>
      </equals>
    </or>
    </condition>
  </animation>
    
  <animation> 
  <type>material</type> 
  <object-name>r_r</object-name>
  <emission>
    <red>1.0</red>
    <green>1.0</green>
    <blue>1.0</blue>
    <factor-prop>yak-40/instrumentation/gear/lamp-light</factor-prop>
    <factor-prop>gear/gear[2]/position-norm</factor-prop>
  </emission>
  </animation>
  
  <!-- Controls -->
  
  <animation>
  <type>rotate</type>
  <object-name>knob</object-name>
  <property>yak-40/instrumentation/gear/lamp-light</property>  
  <factor>300</factor>
  <center>
    <x-m>0.0</x-m>
    <y-m>0.0303</y-m>
    <z-m>-0.00015</z-m>
  </center>
  <axis>
    <x>-1.0</x>
    <y>0.0</y>
    <z>0.0</z>
  </axis>
</animation>

<animation>
  <type>pick</type>
  <object-name>knob</object-name>
  <visible>true</visible>
  <action>
    <button>3</button>
    <repeatable>false</repeatable>
    <binding>
      <command>property-adjust</command>
      <property>yak-40/instrumentation/gear/lamp-light</property>
      <step>0.05</step>
      <min>0.1</min>
      <max>1.0</max>
    </binding>
  </action>
</animation>
<animation>
  <type>pick</type>
  <object-name>knob</object-name>
  <visible>true</visible>
  <action>
    <button>4</button>
    <repeatable>false</repeatable>
    <binding>
      <command>property-adjust</command>
      <property>yak-40/instrumentation/gear/lamp-light</property>
      <step>-0.05</step>
      <min>0.1</min>
      <max>1.0</max>
    </binding>
  </action>
</animation>  

<animation>
  <type>pick</type>
  <object-name>knob</object-name>
  <visible>true</visible>
  <action>
    <button>0</button>
    <repeatable>false</repeatable>
    <binding>
      <command>nasal</command>
      <script>
        setprop("yak-40/instrumentation/gear/check",1);
        interpolate("yak-40/instrumentation/gear/knob",1,0.1);
      </script>
    </binding>
    <mod-up>
      <binding>
	<command>nasal</command>
      <script>
	setprop("yak-40/instrumentation/gear/check",0);
        interpolate("yak-40/instrumentation/gear/knob",0,0.1);
      </script>
      </binding>
    </mod-up>
  </action>
</animation>

</PropertyList>
